<%
  props = {
    commentsUrl: api_v1_post_comments_url,
    createCommentUrl: api_v1_create_post_comment_url(@post),
    updateCommentUrl: request.base_url + '/api/v1/comments/'
  }
%>

<p id="notice"><%= notice %></p>

<%= image_tag @post.cover_url, width: 500 %>

<figure class="postCover" style="background-image: url('<%= @post.cover_url %>')"></figure>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

<h2>Comments</h2>
<div id="postComments" data-props="<%= props.to_json %>"></div>

<div>
  <%= link_to 'Edit', edit_post_path(@post) if can? :update, @post %>
  <%= link_to 'Destroy', @post, method: :delete, data: { confirm: 'Are you sure?' } if can? :destroy, @post %>
</div>
